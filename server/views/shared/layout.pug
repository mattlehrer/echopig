doctype
html
  head
    title Echopig
    link(rel='apple-touch-icon', sizes='60x60', href='/apple-touch-icon-60x60.png')
    link(rel='apple-touch-icon', sizes='76x76', href='/apple-touch-icon-76x76.png')
    link(rel='apple-touch-icon', sizes='120x120', href='/apple-touch-icon-120x120.png')
    link(rel='apple-touch-icon', sizes='152x152', href='/apple-touch-icon-152x152.png')
    link(rel='apple-touch-icon', sizes='180x180', href='/apple-touch-icon-180x180.png')
    link(rel='icon', type='image/png', sizes='32x32', href='/favicon-32x32.png')
    link(rel='icon', type='image/png', sizes='16x16', href='/favicon-16x16.png')
    link(rel='manifest', href='/manifest.json')
    link(rel='mask-icon', href='/safari-pinned-tab.svg', color='#5bbad5')
    meta(name='theme-color', content='#ffffff')
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Indie+Flower|Roboto')
    meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
    link(rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css' integrity='sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS' crossorigin='anonymous')
    link(rel='stylesheet' href='/css/app.css')
  body
    header
      .container
        nav.navbar.navbar-expand-lg.navbar-light.px-0
          a.navbar-brand(href='/') Echopig
          button.navbar-toggler&attributes({'type':"button", 'data-toggle': "collapse", 'data-target': "#navbarSupportedContent"})
            span.navbar-toggler-icon
          div.collapse.navbar-collapse#navbarSupportedContent
            ul.navbar-nav.ml-auto
              if(currentUser)
                li.nav-item
                  - profile = '/u/'+currentUser.username
                  a.nav-link(href=profile) Hello 
                      span#currentUsername #{currentUser.username}   
                li.nav-item
                  a.nav-link(href='/post') Post an episode
                li.nav-item
                  a.nav-link(href='/settings') Settings  
                li.nav-item
                  a.nav-link(href='/logout') Logout   
              else
                li.nav-item
                  a.nav-link(href='/register') Register   
                li.nav-item
                  a.nav-link(href='/login') Login   
    .container
      if (errorMessage)
        .alert.alert-dismissible.alert-danger
          button.close(type='button', class='close' data-dismiss='alert') x
          .text-center #{errorMessage}
    block main-content
    include scripts